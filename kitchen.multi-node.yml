---
provisioner:
  name: terraform

driver:
  name: terraform
  command_timeout: 3600

verifier:
  name: terraform
  systems:
    - name: source
      backend: ssh
      hosts_output: source_server
      sudo: true
      user: centos
      profile_locations:
        - test/integration/inspec
        - test/integration/multi-node
      controls:
        - all
        - bind
        - primary
        - selinux
      hostnames: source

    - name: replica
      backend: ssh
      hosts_output: replica_server
      sudo: true
      user: centos
      profile_locations:
        - test/integration/inspec
        - test/integration/multi-node
      controls:
        - all
        - bind
        - selinux
      hostnames: replica

platforms:
  - name: centos-7
  - name: centos-stream-8
    driver:
      variables:
        centos_image: "CentOS Stream 8"

suites:
  - name: multi-node
